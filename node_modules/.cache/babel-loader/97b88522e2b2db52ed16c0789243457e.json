{"ast":null,"code":"import _slicedToArray from\"C:/Users/Jony/OneDrive/Desktop/bebsha-lagbe-jony/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useHistory,useParams}from\"react-router-dom\";import{Carousel,CarouselControl,CarouselItem}from\"reactstrap\";import BreadCrumb from\"../BreadCrumbs/BreadCrumb\";import ProductDescription from\"./ProductDescription\";import ProductDetailSectionTwo from\"./SectionTwo\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductDetails=function ProductDetails(){var history=useHistory();var param=useParams();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),activeIndex=_useState2[0],setActiveIndex=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),animating=_useState4[0],setAnimating=_useState4[1];var product=history.location.state.product;var dispatch=useDispatch();var store=useSelector(function(state){return state.products;});useEffect(function(){window.scrollTo(0,0);},[param]);useEffect(function(){function filterCategory(param){var filterCategory1=store.filter(function(item){return item.category===param;});dispatch({type:\"SETFILTERCATEGORY\",payload:filterCategory1});}filterCategory(product.category);document.title=\"\".concat(product.category,\" - \").concat(product.title);},[dispatch,product.category,product.title,store]);var next=function next(){if(animating)return;if(product.images.length>1){var nextIndex=activeIndex===product.images.length-1?0:activeIndex+1;setActiveIndex(nextIndex);}};var previous=function previous(){if(animating)return;if(product.images.length>1){var nextIndex=activeIndex===0?product.images.item.length-1:activeIndex-1;setActiveIndex(nextIndex);}};var slides=product.images.map(function(item,i){return/*#__PURE__*/_jsx(CarouselItem,{className:\"productsCarousel\",onExiting:function onExiting(){return setAnimating(true);},onExited:function onExited(){return setAnimating(false);},children:/*#__PURE__*/_jsx(\"img\",{src:item,alt:item,width:\"100%\",height:\"600px\"})},i);});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(BreadCrumb,{category:product.category,productname:product.title}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-7 col-md-12 col-12 col-sm-12\",children:[/*#__PURE__*/_jsxs(Carousel,{activeIndex:activeIndex,next:next,previous:previous,children:[slides,/*#__PURE__*/_jsx(CarouselControl,{direction:\"prev\",directionText:\"Previous\",onClickHandler:previous}),/*#__PURE__*/_jsx(CarouselControl,{direction:\"next\",directionText:\"Next\",onClickHandler:next})]}),/*#__PURE__*/_jsx(ProductDescription,{product:product})]}),/*#__PURE__*/_jsx(ProductDetailSectionTwo,{product:product})]})})]});};export default ProductDetails;","map":{"version":3,"sources":["C:/Users/Jony/OneDrive/Desktop/bebsha-lagbe-jony/src/components/ProductDetails/ProductDetails.jsx"],"names":["React","useEffect","useState","useDispatch","useSelector","useHistory","useParams","Carousel","CarouselControl","CarouselItem","BreadCrumb","ProductDescription","ProductDetailSectionTwo","ProductDetails","history","param","activeIndex","setActiveIndex","animating","setAnimating","product","location","state","dispatch","store","products","window","scrollTo","filterCategory","filterCategory1","filter","item","category","type","payload","document","title","next","images","length","nextIndex","previous","slides","map","i"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { Carousel, CarouselControl, CarouselItem } from \"reactstrap\";\nimport BreadCrumb from \"../BreadCrumbs/BreadCrumb\";\nimport ProductDescription from \"./ProductDescription\";\nimport ProductDetailSectionTwo from \"./SectionTwo\";\n\nconst ProductDetails = () => {\n  const history = useHistory();\n  const param = useParams();\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [animating, setAnimating] = useState(false);\n  const {\n    location: {\n      state: { product },\n    },\n  } = history;\n  const dispatch = useDispatch();\n  const store = useSelector((state) => state.products);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [param]);\n\n  useEffect(() => {\n    function filterCategory(param) {\n      const filterCategory1 = store.filter((item) => item.category === param);\n      dispatch({ type: \"SETFILTERCATEGORY\", payload: filterCategory1 });\n    }\n\n    filterCategory(product.category);\n    document.title = `${product.category} - ${product.title}`;\n  }, [dispatch, product.category, product.title, store]);\n\n  const next = () => {\n    if (animating) return;\n    if (product.images.length > 1) {\n      const nextIndex =\n        activeIndex === product.images.length - 1 ? 0 : activeIndex + 1;\n      setActiveIndex(nextIndex);\n    }\n  };\n\n  const previous = () => {\n    if (animating) return;\n    if (product.images.length > 1) {\n      const nextIndex =\n        activeIndex === 0 ? product.images.item.length - 1 : activeIndex - 1;\n      setActiveIndex(nextIndex);\n    }\n  };\n\n  const slides = product.images.map((item, i) => {\n    return (\n      <CarouselItem\n        className=\"productsCarousel\"\n        onExiting={() => setAnimating(true)}\n        onExited={() => setAnimating(false)}\n        key={i}\n      >\n        <img src={item} alt={item} width=\"100%\" height=\"600px\" />\n      </CarouselItem>\n    );\n  });\n\n  return (\n    <>\n      <BreadCrumb category={product.category} productname={product.title} />\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-lg-7 col-md-12 col-12 col-sm-12\">\n            <Carousel activeIndex={activeIndex} next={next} previous={previous}>\n              {slides}\n              <CarouselControl\n                direction=\"prev\"\n                directionText=\"Previous\"\n                onClickHandler={previous}\n              />\n              <CarouselControl\n                direction=\"next\"\n                directionText=\"Next\"\n                onClickHandler={next}\n              />\n            </Carousel>\n            <ProductDescription product={product} />\n          </div>\n          <ProductDetailSectionTwo product={product} />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default ProductDetails;\n"]},"metadata":{},"sourceType":"module"}