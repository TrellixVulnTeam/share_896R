{"ast":null,"code":"import _objectSpread from\"C:/Users/Jony/OneDrive/Desktop/bebsha-lagbe-jony/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:/Users/Jony/OneDrive/Desktop/bebsha-lagbe-jony/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/Jony/OneDrive/Desktop/bebsha-lagbe-jony/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{faArrowLeft}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{useFormik}from\"formik\";import React,{useEffect,useState}from\"react\";import{connect}from\"react-redux\";import{Link,useHistory}from\"react-router-dom\";import{toast,ToastContainer}from\"react-toastify\";import{Form,FormGroup,Input,Label,Navbar,Spinner}from\"reactstrap\";import*as Yup from\"yup\";import firebase from\"../../config/firebase\";import logo from\"../../img/logo.png\";import\"./style.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Posts(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),fileDownlodedUrl=_useState2[0],setfileDownlodedUrl=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),spinner=_useState4[0],setSpinner=_useState4[1];var history=useHistory();useEffect(function(){window.scrollTo(0,0);},[]);var currentUser=props.currentUser;useEffect(function(){if(Object.keys(currentUser).length<1){history.push(\"/\");}},[currentUser,history]);var onFileChange=function onFileChange(e){for(var i=0;i<e.target.files.length;i++){var newFile=e.target.files[i];newFile[\"id\"]=Math.random();var random=Math.random*45545*54545454;var imgName=e.target.files[i].name+random;firebase.storage().ref().child(imgName).put(e.target.files[i]).then(function(snapshot){var progress=snapshot.bytesTransferred/snapshot.totalBytes*100;console.log(\"Upload is \"+progress+\"% done\");snapshot.ref.getDownloadURL().then(function(downloadURL){setfileDownlodedUrl(function(prevState){return[].concat(_toConsumableArray(prevState),[downloadURL]);});});});}};var formik=useFormik({initialValues:{category:\"\",title:\"\",price:\"\",description:\"\",condition:\"\",new:true,phone:\"\",location:\"\"},validationSchema:Yup.object({category:Yup.string().required(\"বিভাগ নির্বাচন করা আবশ্যক!\"),title:Yup.string().required(\"বিজ্ঞাপনের শিরোনাম নাম দেয়া আবশ্যক!\"),description:Yup.string().required(\"সম্পদের বিস্তারিত বর্ণনা দেয়া আবশ্যক!\"),location:Yup.string().required(\"আপনার ঠিকানা দেয়া আবশ্যক!\"),phone:Yup.string().min(10,\"ন্যূনতম ১১ অক্ষর দিতে হবে\").max(13,\"সর্বোচ্চ ১৩ অক্ষর দিতে হবে\").required(\"আপনার ফোন নম্বর দেয়া আবশ্যক!\"),price:Yup.string().required(\"সম্পদ ইজারার ডাউন পেমেন্ট মূল্যে দেয়া আবশ্যক!\").min(2,\"ন্যূনতম ২ অক্ষর দিতে হবে\")}),onSubmit:function onSubmit(values){setSpinner(true);var productId=firebase.database().ref(\"/allassets\").push().key;var db=firebase.database().ref(\"/allassets\").child(productId);var uid=firebase.auth().currentUser.uid;var record=_objectSpread(_objectSpread({},values),{},{images:fileDownlodedUrl,productId:productId,uid:uid});db.set(record).then(function(docRef){console.log(\"Product Add Succesfully\",docRef);history.push(\"/adds\");toast.success(\"বিজ্ঞাপনটি সফলভাবে আপলোড হয়েছে \");}).catch(function(error){console.error(\"Error adding document: \",error);setSpinner(false);toast.error(\"বিজ্ঞাপন আপলোড করতে ত্রুটি দেখা দিয়েছে\");});}});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Navbar,{color:\"faded\",light:true,className:\"navbar\",children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"postNavbar pt-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"pr-3\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faArrowLeft,size:\"lg\",className:\"faArrowLeft\"})}),/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"logo\",width:\"12%\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"display__font\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:spinner?/*#__PURE__*/_jsx(Spinner,{className:\"post__spinner\",type:\"grow\",color:\"success\"}):/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 col-md-6 col-12 background shadow mt-4 mb-5\",children:/*#__PURE__*/_jsxs(Form,{onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(\"h3\",{htmlFor:\"title\",className:\"text-center text-uppercase mt-3 py-3 shadow\",children:\"\\u0986\\u09AA\\u09A8\\u09BE\\u09B0 \\u09AC\\u09BF\\u099C\\u09CD\\u099E\\u09BE\\u09AA\\u09A8 \\u09AA\\u09CB\\u09B8\\u09CD\\u099F \\u0995\\u09B0\\u09C1\\u09A8\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Label,{htmlFor:\"category\",children:\"\\u09B8\\u09AE\\u09CD\\u09AA\\u09A6\\u09C7\\u09B0 \\u0995\\u09CD\\u09AF\\u09BE\\u099F\\u09BE\\u0997\\u09B0\\u09BF \\u09B8\\u09BF\\u09B2\\u09C7\\u0995\\u09CD\\u099F \\u0995\\u09B0\\u09C1\\u09A8\"}),/*#__PURE__*/_jsxs(Input,{type:\"select\",name:\"category\",value:formik.values.category,id:\"category\",onChange:formik.handleChange,children:[/*#__PURE__*/_jsx(\"option\",{children:\"\\u0995\\u09CD\\u09AF\\u09BE\\u099F\\u09BE\\u0997\\u09B0\\u09BF \\u09B8\\u09BF\\u09B2\\u09C7\\u0995\\u09CD\\u099F \\u0995\\u09B0\\u09C1\\u09A8\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u099C\\u09AE\\u09BF-\\u099C\\u09AE\\u09BE\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u09AA\\u09B6\\u09C1-\\u09AA\\u09BE\\u0996\\u09BF\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u0996\\u09BE\\u09AE\\u09BE\\u09B0\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u0995\\u09BE\\u09B0\\u0996\\u09BE\\u09A8\\u09BE\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u09B9\\u09CB\\u099F\\u09C7\\u09B2-\\u09AE\\u09CB\\u099F\\u09C7\\u09B2\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u0997\\u09BE\\u09DC\\u09BF-\\u099F\\u09CD\\u09B0\\u09CD\\u09AF\\u09BE\\u0995\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u09AC\\u09BE\\u09B8\\u09BE-\\u09AC\\u09BE\\u09DC\\u09BF\"})]}),formik.errors.category&&formik.touched.category&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger mt-2\",children:formik.errors.category})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"title\",children:\"\\u09AC\\u09BF\\u099C\\u09CD\\u099E\\u09BE\\u09AA\\u09A8\\u09C7\\u09B0 \\u09B6\\u09BF\\u09B0\\u09CB\\u09A8\\u09BE\\u09AE\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"title\",id:\"title\",placeholder:\"\\u09AC\\u09BF\\u099C\\u09CD\\u099E\\u09BE\\u09AA\\u09A8\\u09C7\\u09B0 \\u09B6\\u09BF\\u09B0\\u09CB\\u09A8\\u09BE\\u09AE \\u09B2\\u09BF\\u0996\\u09C1\\u09A8\",value:formik.values.title,onChange:formik.handleChange}),formik.errors.title&&formik.touched.title&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger  mt-2\",children:formik.errors.title})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"description\",children:\"\\u09B8\\u09AE\\u09CD\\u09AA\\u09A6\\u09C7\\u09B0 \\u09AC\\u09BF\\u09B8\\u09CD\\u09A4\\u09BE\\u09B0\\u09BF\\u09A4 \\u09AC\\u09B0\\u09CD\\u09A3\\u09A8\\u09BE\"}),/*#__PURE__*/_jsx(Input,{type:\"textarea\",name:\"description\",id:\"description\",placeholder:\"\\u09B8\\u09AE\\u09CD\\u09AA\\u09A6\\u09C7\\u09B0 \\u09AC\\u09BF\\u09B8\\u09CD\\u09A4\\u09BE\\u09B0\\u09BF\\u09A4 \\u09AC\\u09B0\\u09CD\\u09A3\\u09A8\\u09BE \\u09B2\\u09BF\\u0996\\u09C1\\u09A8\",defaultValue:formik.values.description,onChange:formik.handleChange}),formik.errors.description&&formik.touched.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger  mt-2\",children:formik.errors.description})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"price\",children:\"\\u09B8\\u09B0\\u09CD\\u09AC\\u09A8\\u09BF\\u09AE\\u09CD\\u09A8 \\u09A1\\u09BE\\u0989\\u09A8 \\u09AA\\u09C7\\u09AE\\u09C7\\u09A8\\u09CD\\u099F\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"price\",id:\"price\",placeholder:\"\\u09B8\\u09AE\\u09CD\\u09AA\\u09A6 \\u0987\\u099C\\u09BE\\u09B0\\u09BE\\u09B0 \\u09A1\\u09BE\\u0989\\u09A8 \\u09AA\\u09C7\\u09AE\\u09C7\\u09A8\\u09CD\\u099F \\u09AE\\u09C2\\u09B2\\u09CD\\u09AF\\u09C7 \\u09B2\\u09BF\\u0996\\u09C1\\u09A8\",value:formik.values.price,onChange:formik.handleChange}),formik.errors.price&&formik.touched.price&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger  mt-2\",children:formik.errors.price})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"file\",children:\"\\u09B8\\u09AE\\u09CD\\u09AA\\u09A6\\u09C7\\u09B0 \\u099B\\u09AC\\u09BF \\u09A6\\u09BF\\u09A8\"}),/*#__PURE__*/_jsx(Input,{type:\"file\",multiple:true,onChange:onFileChange,name:\"file\",id:\"file\",required:true})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"file\",children:\"\\u09B8\\u09AE\\u09CD\\u09AA\\u09A6\\u09C7\\u09B0 \\u0985\\u09AC\\u09B8\\u09CD\\u09A5\\u09BE\"}),/*#__PURE__*/_jsxs(Input,{type:\"select\",name:\"condition\",value:formik.values.condition,id:\"condition\",onChange:formik.handleChange,children:[/*#__PURE__*/_jsx(\"option\",{children:\"\\u09A8\\u09A4\\u09C1\\u09A8\"}),/*#__PURE__*/_jsx(\"option\",{children:\"\\u09AC\\u09CD\\u09AF\\u09AC\\u09B9\\u09C3\\u09A4 \"})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h4\",{className:\"pt-3\",children:\"\\u0986\\u09AA\\u09A8\\u09BE\\u09B0 \\u09AC\\u09BF\\u09AC\\u09B0\\u09A3 \\u09AA\\u09B0\\u09CD\\u09AF\\u09BE\\u09B2\\u09CB\\u099A\\u09A8\\u09BE \\u0995\\u09B0\\u09C1\\u09A8\"}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"phone\",children:\"\\u0986\\u09AA\\u09A8\\u09BE\\u09B0 \\u09AB\\u09CB\\u09A8 \\u09A8\\u09AE\\u09CD\\u09AC\\u09B0\"}),/*#__PURE__*/_jsx(Input,{type:\"number\",name:\"phone\",id:\"phone\",placeholder:\"\\u0986\\u09AA\\u09A8\\u09BE\\u09B0 \\u09AB\\u09CB\\u09A8 \\u09A8\\u09AE\\u09CD\\u09AC\\u09B0 \\u09B2\\u09BF\\u0996\\u09C1\\u09A8\",value:formik.values.phone,onChange:formik.handleChange}),formik.errors.phone&&formik.touched.phone&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger  mt-2\",children:formik.errors.phone})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"location\",children:\"\\u0986\\u09AA\\u09A8\\u09BE\\u09B0 \\u09A0\\u09BF\\u0995\\u09BE\\u09A8\\u09BE\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"location\",id:\"location\",placeholder:\"\\u0986\\u09AA\\u09A8\\u09BE\\u09B0 \\u09A0\\u09BF\\u0995\\u09BE\\u09A8\\u09BE \\u09B2\\u09BF\\u0996\\u09C1\\u09A8\",value:formik.values.location,onChange:formik.handleChange}),formik.errors.location&&formik.touched.location&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger  mt-2\",children:formik.errors.location})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"text-center chatwithSeller btn btn-block w-100\",value:\"\\u098F\\u0996\\u09A8\\u0987 \\u09AA\\u09CB\\u09B8\\u09CD\\u099F \\u0995\\u09B0\\u09C1\\u09A8\"})]})})})})]});}function mapStateToProps(state){return{currentUser:state.currentUser};}export default connect(mapStateToProps,null)(Posts);","map":{"version":3,"sources":["C:/Users/Jony/OneDrive/Desktop/bebsha-lagbe-jony/src/components/Posts/index.js"],"names":["faArrowLeft","FontAwesomeIcon","useFormik","React","useEffect","useState","connect","Link","useHistory","toast","ToastContainer","Form","FormGroup","Input","Label","Navbar","Spinner","Yup","firebase","logo","Posts","props","fileDownlodedUrl","setfileDownlodedUrl","spinner","setSpinner","history","window","scrollTo","currentUser","Object","keys","length","push","onFileChange","e","i","target","files","newFile","Math","random","imgName","name","storage","ref","child","put","then","snapshot","progress","bytesTransferred","totalBytes","console","log","getDownloadURL","downloadURL","prevState","formik","initialValues","category","title","price","description","condition","new","phone","location","validationSchema","object","string","required","min","max","onSubmit","values","productId","database","key","db","uid","auth","record","images","set","docRef","success","catch","error","handleSubmit","handleChange","errors","touched","mapStateToProps","state"],"mappings":"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","sourcesContent":["import { faArrowLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { useFormik } from \"formik\";\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport { Form, FormGroup, Input, Label, Navbar, Spinner } from \"reactstrap\";\nimport * as Yup from \"yup\";\nimport firebase from \"../../config/firebase\";\nimport logo from \"../../img/logo.png\";\nimport \"./style.css\";\n\nfunction Posts(props) {\n  const [fileDownlodedUrl, setfileDownlodedUrl] = useState([]);\n  const [spinner, setSpinner] = useState(false);\n  const history = useHistory();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  const { currentUser } = props;\n  useEffect(() => {\n    if (Object.keys(currentUser).length < 1) {\n      history.push(\"/\");\n    }\n  }, [currentUser, history]);\n\n  const onFileChange = (e) => {\n    for (let i = 0; i < e.target.files.length; i++) {\n      const newFile = e.target.files[i];\n      newFile[\"id\"] = Math.random();\n      const random = Math.random * 45545 * 54545454;\n      const imgName = e.target.files[i].name + random;\n      firebase\n        .storage()\n        .ref()\n        .child(imgName)\n        .put(e.target.files[i])\n        .then(function (snapshot) {\n          var progress =\n            (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n          console.log(\"Upload is \" + progress + \"% done\");\n          snapshot.ref.getDownloadURL().then((downloadURL) => {\n            setfileDownlodedUrl((prevState) => [...prevState, downloadURL]);\n          });\n        });\n    }\n  };\n\n  const formik = useFormik({\n    initialValues: {\n      category: \"\",\n      title: \"\",\n      price: \"\",\n      description: \"\",\n      condition: \"\",\n      new: true,\n      phone: \"\",\n      location: \"\",\n    },\n\n    validationSchema: Yup.object({\n      category: Yup.string().required(\"বিভাগ নির্বাচন করা আবশ্যক!\"),\n      title: Yup.string().required(\"বিজ্ঞাপনের শিরোনাম নাম দেয়া আবশ্যক!\"),\n      description: Yup.string().required(\n        \"সম্পদের বিস্তারিত বর্ণনা দেয়া আবশ্যক!\"\n      ),\n      location: Yup.string().required(\"আপনার ঠিকানা দেয়া আবশ্যক!\"),\n      phone: Yup.string()\n        .min(10, \"ন্যূনতম ১১ অক্ষর দিতে হবে\")\n        .max(13, \"সর্বোচ্চ ১৩ অক্ষর দিতে হবে\")\n        .required(\"আপনার ফোন নম্বর দেয়া আবশ্যক!\"),\n      price: Yup.string()\n        .required(\"সম্পদ ইজারার ডাউন পেমেন্ট মূল্যে দেয়া আবশ্যক!\")\n        .min(2, \"ন্যূনতম ২ অক্ষর দিতে হবে\"),\n    }),\n    onSubmit: (values) => {\n      setSpinner(true);\n      var productId = firebase.database().ref(\"/allassets\").push().key;\n      var db = firebase.database().ref(\"/allassets\").child(productId);\n      const { uid } = firebase.auth().currentUser;\n      const record = { ...values, images: fileDownlodedUrl, productId, uid };\n\n      db.set(record)\n        .then(function (docRef) {\n          console.log(\"Product Add Succesfully\", docRef);\n          history.push(\"/adds\");\n          toast.success(\"বিজ্ঞাপনটি সফলভাবে আপলোড হয়েছে \");\n        })\n        .catch(function (error) {\n          console.error(\"Error adding document: \", error);\n          setSpinner(false);\n          toast.error(\"বিজ্ঞাপন আপলোড করতে ত্রুটি দেখা দিয়েছে\");\n        });\n    },\n  });\n  return (\n    <>\n      <Navbar color=\"faded\" light className=\"navbar\">\n        <ToastContainer />\n        <Link to=\"/\" className=\"postNavbar pt-2\">\n          <span className=\"pr-3\">\n            <FontAwesomeIcon\n              icon={faArrowLeft}\n              size=\"lg\"\n              className=\"faArrowLeft\"\n            />\n          </span>\n          <img src={logo} alt=\"logo\" width=\"12%\" />\n        </Link>\n      </Navbar>\n      <div className=\"display__font\">\n        <div className=\"row justify-content-center\">\n          {spinner ? (\n            <Spinner className=\"post__spinner\" type=\"grow\" color=\"success\" />\n          ) : (\n            <div className=\"col-lg-6 col-md-6 col-12 background shadow mt-4 mb-5\">\n              <Form onSubmit={formik.handleSubmit}>\n                <FormGroup>\n                  <h3\n                    htmlFor=\"title\"\n                    className=\"text-center text-uppercase mt-3 py-3 shadow\"\n                  >\n                    আপনার বিজ্ঞাপন পোস্ট করুন\n                  </h3>\n                  <hr />\n                  <Label htmlFor=\"category\">\n                    সম্পদের ক্যাটাগরি সিলেক্ট করুন\n                  </Label>\n                  <Input\n                    type=\"select\"\n                    name=\"category\"\n                    value={formik.values.category}\n                    id=\"category\"\n                    onChange={formik.handleChange}\n                  >\n                    <option>ক্যাটাগরি সিলেক্ট করুন</option>\n                    <option>জমি-জমা</option>\n                    <option>পশু-পাখি</option>\n                    <option>খামার</option>\n                    <option>কারখানা</option>\n                    <option>হোটেল-মোটেল</option>\n                    <option>গাড়ি-ট্র্যাক</option>\n                    <option>বাসা-বাড়ি</option>\n                  </Input>\n                  {formik.errors.category && formik.touched.category && (\n                    <p className=\"text-danger mt-2\">{formik.errors.category}</p>\n                  )}\n                </FormGroup>\n\n                <FormGroup>\n                  <Label htmlFor=\"title\">বিজ্ঞাপনের শিরোনাম</Label>\n                  <Input\n                    type=\"text\"\n                    name=\"title\"\n                    id=\"title\"\n                    placeholder=\"বিজ্ঞাপনের শিরোনাম লিখুন\"\n                    value={formik.values.title}\n                    onChange={formik.handleChange}\n                  />\n                  {formik.errors.title && formik.touched.title && (\n                    <p className=\"text-danger  mt-2\">{formik.errors.title}</p>\n                  )}\n                </FormGroup>\n                <FormGroup>\n                  <Label htmlFor=\"description\">সম্পদের বিস্তারিত বর্ণনা</Label>\n                  <Input\n                    type=\"textarea\"\n                    name=\"description\"\n                    id=\"description\"\n                    placeholder=\"সম্পদের বিস্তারিত বর্ণনা লিখুন\"\n                    defaultValue={formik.values.description}\n                    onChange={formik.handleChange}\n                  />\n                  {formik.errors.description && formik.touched.description && (\n                    <p className=\"text-danger  mt-2\">\n                      {formik.errors.description}\n                    </p>\n                  )}\n                </FormGroup>\n                <FormGroup>\n                  <Label htmlFor=\"price\">সর্বনিম্ন ডাউন পেমেন্ট</Label>\n                  <Input\n                    type=\"text\"\n                    name=\"price\"\n                    id=\"price\"\n                    placeholder=\"সম্পদ ইজারার ডাউন পেমেন্ট মূল্যে লিখুন\"\n                    value={formik.values.price}\n                    onChange={formik.handleChange}\n                  />\n\n                  {formik.errors.price && formik.touched.price && (\n                    <p className=\"text-danger  mt-2\">{formik.errors.price}</p>\n                  )}\n                </FormGroup>\n                <FormGroup>\n                  <Label for=\"file\">সম্পদের ছবি দিন</Label>\n                  <Input\n                    type=\"file\"\n                    multiple\n                    onChange={onFileChange}\n                    name=\"file\"\n                    id=\"file\"\n                    required\n                  />\n                </FormGroup>\n                <FormGroup>\n                  <Label for=\"file\">সম্পদের অবস্থা</Label>\n                  <Input\n                    type=\"select\"\n                    name=\"condition\"\n                    value={formik.values.condition}\n                    id=\"condition\"\n                    onChange={formik.handleChange}\n                  >\n                    <option>নতুন</option>\n                    <option>ব্যবহৃত </option>\n                  </Input>\n                </FormGroup>\n                <hr />\n                <h4 className=\"pt-3\">আপনার বিবরণ পর্যালোচনা করুন</h4>\n                <FormGroup>\n                  <Label htmlFor=\"phone\">আপনার ফোন নম্বর</Label>\n                  <Input\n                    type=\"number\"\n                    name=\"phone\"\n                    id=\"phone\"\n                    placeholder=\"আপনার ফোন নম্বর লিখুন\"\n                    value={formik.values.phone}\n                    onChange={formik.handleChange}\n                  />\n\n                  {formik.errors.phone && formik.touched.phone && (\n                    <p className=\"text-danger  mt-2\">{formik.errors.phone}</p>\n                  )}\n                </FormGroup>\n\n                <FormGroup>\n                  <Label htmlFor=\"location\">আপনার ঠিকানা</Label>\n                  <Input\n                    type=\"text\"\n                    name=\"location\"\n                    id=\"location\"\n                    placeholder=\"আপনার ঠিকানা লিখুন\"\n                    value={formik.values.location}\n                    onChange={formik.handleChange}\n                  />\n\n                  {formik.errors.location && formik.touched.location && (\n                    <p className=\"text-danger  mt-2\">\n                      {formik.errors.location}\n                    </p>\n                  )}\n                </FormGroup>\n                <input\n                  type=\"submit\"\n                  className=\"text-center chatwithSeller btn btn-block w-100\"\n                  value=\"এখনই পোস্ট করুন\"\n                />\n              </Form>\n            </div>\n          )}\n        </div>\n      </div>\n    </>\n  );\n}\nfunction mapStateToProps(state) {\n  return {\n    currentUser: state.currentUser,\n  };\n}\nexport default connect(mapStateToProps, null)(Posts);\n"]},"metadata":{},"sourceType":"module"}